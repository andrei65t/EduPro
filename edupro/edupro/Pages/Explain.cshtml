@page
@model EduPro.Pages.ExplainModel
@{
    ViewData["Title"] = "Asistent inteligent";
    ViewData["PageTitle"] = "Explică concepte complexe";
    ViewData["PageSubtitle"] = "Transformă informația dificilă în explicații clare și ușor de înțeles";
}

<div class="row justify-content-center">
    <div class="col-xl-9">
        <div class="app-card">
            <div class="app-card-header">
                <div>
                    <div class="app-card-title">💡 Text de analizat</div>
                    <div class="app-card-subtitle">Introduce conceptul sau fragmentul pe care vrei să-l înțelegi mai bine</div>
                </div>
            </div>

            <div class="app-card-body">
                <form method="post">
                    <div class="mb-3">
                        <label asp-for="InputText" class="form-label">
                            <i class="bi bi-pencil-square"></i> Conceptul de explicat
                        </label>
                        <textarea asp-for="InputText"
                                  class="form-control"
                                  rows="6"
                                  style="background-color: #1e2530; color: #e4e7eb; border-color: #3d4756;"
                                  placeholder="Exemplu: Teorema lui Pitagora, Legea lui Ohm, Fotosinteza..."
                                  required></textarea>
                        <div class="form-text text-muted">
                            <i class="bi bi-lightbulb"></i>
                            Poți introduce definiții, teoreme, concepte sau orice text care necesită clarificări
                        </div>
                    </div>

                    <div class="mb-4">
                        <label asp-for="Level" class="form-label">
                            <i class="bi bi-sliders"></i> Complexitatea explicației
                        </label>
                        <select asp-for="Level"
                                class="form-select"
                                style="background-color: #1e2530; color: #e4e7eb; border-color: #3d4756;">
                            <option value="simple">🌟 Foarte simplu - pentru oricine</option>
                            <option value="medium" selected>📖 Moderat - nivel liceu/facultate</option>
                            <option value="summary">⚡ Succint - doar esențialul</option>
                        </select>
                        <div class="form-text text-muted">
                            Alege cât de detaliat vrei să fie răspunsul
                        </div>
                    </div>

                    <button type="submit" class="btn btn-primary btn-lg">
                        <i class="bi bi-stars"></i> Generează explicația
                    </button>
                </form>

                <hr class="my-4" style="border-color: #3d4756;" />

                <div>
                    <h6 class="mb-3" style="color: #e4e7eb;">
                        <i class="bi bi-chat-left-text"></i> Explicație generată
                    </h6>

                    @if (Model.GeneratedExplanation != null)
                    {
                        <!-- Explicația reală generată -->
                        <div class="alert" style="background-color: #1a3d2e; border-color: #2d6a4f; color: #d8f3dc;">
                            <h6 class="alert-heading" style="color: #95d5b2;">
                                <i class="bi bi-check-circle-fill"></i> Explicație completă
                            </h6>
                            <hr style="border-color: #2d6a4f;">
                            <div class="mt-3 p-3 rounded" style="background-color: #0d1b2a; color: #e4e7eb; border: 1px solid #3d4756; white-space: pre-wrap;">
                                @Model.GeneratedExplanation
                            </div>
                        </div>
                    }
                    else
                    {
                        <!-- Preview când nu există explicație -->
                        <div class="rounded-3 p-4" style="background-color: #1e2530; border: 1px solid #3d4756;">
                            <div class="text-center mb-3">
                                <i class="bi bi-lightbulb" style="font-size: 2.5rem; color: #ffd60a;"></i>
                            </div>
                            <p class="mb-3 text-center" style="color: #adb5bd;">
                                <strong>Cum funcționează asistentul:</strong>
                            </p>
                            <div class="row g-3">
                                <div class="col-md-4">
                                    <div class="p-3 rounded h-100" style="background-color: #0d1b2a; border: 2px solid #ffd60a;">
                                        <div class="mb-2" style="color: #ffd60a;">
                                            <i class="bi bi-star-fill"></i> <strong>Foarte simplu</strong>
                                        </div>
                                        <small style="color: #adb5bd;">
                                            Explicații cu analogii clare și exemple din viața de zi cu zi
                                        </small>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="p-3 rounded h-100" style="background-color: #0d1b2a; border: 2px solid #4cc9f0;">
                                        <div class="mb-2" style="color: #4cc9f0;">
                                            <i class="bi bi-book"></i> <strong>Moderat</strong>
                                        </div>
                                        <small style="color: #adb5bd;">
                                            Echilibru perfect între claritate și profunzime tehnică
                                        </small>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="p-3 rounded h-100" style="background-color: #0d1b2a; border: 2px solid #f72585;">
                                        <div class="mb-2" style="color: #f72585;">
                                            <i class="bi bi-lightning-fill"></i> <strong>Succint</strong>
                                        </div>
                                        <small style="color: #adb5bd;">
                                            Doar conceptele cheie și ideile principale
                                        </small>
                                    </div>
                                </div>
                            </div>
                        </div>
                    }
                </div>
            </div>
        </div>

        <!-- Card informativ suplimentar -->
        <div class="app-card mt-3">
            <div class="app-card-body">
                <h6 class="mb-3" style="color: #4cc9f0;">
                    <i class="bi bi-info-circle-fill"></i> Sfaturi pentru rezultate mai bune
                </h6>
                <div class="row g-3">
                    <div class="col-md-6">
                        <div class="d-flex align-items-start">
                            <div class="me-2" style="color: #ffd60a;">
                                <i class="bi bi-check-circle-fill"></i>
                            </div>
                            <div>
                                <strong style="color: #e4e7eb;">Fii specific</strong>
                                <div class="small" style="color: #adb5bd;">
                                    Cu cât ești mai clar în descriere, cu atât explicația va fi mai precisă
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="d-flex align-items-start">
                            <div class="me-2" style="color: #ffd60a;">
                                <i class="bi bi-check-circle-fill"></i>
                            </div>
                            <div>
                                <strong style="color: #e4e7eb;">Adaugă context</strong>
                                <div class="small" style="color: #adb5bd;">
                                    Menționează domeniul: "în matematică", "în fizică", "în biologie"
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="d-flex align-items-start">
                            <div class="me-2" style="color: #ffd60a;">
                                <i class="bi bi-check-circle-fill"></i>
                            </div>
                            <div>
                                <strong style="color: #e4e7eb;">Începe simplu</strong>
                                <div class="small" style="color: #adb5bd;">
                                    Pentru concepte noi, alege nivelul "Foarte simplu" mai întâi
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="d-flex align-items-start">
                            <div class="me-2" style="color: #ffd60a;">
                                <i class="bi bi-check-circle-fill"></i>
                            </div>
                            <div>
                                <strong style="color: #e4e7eb;">Experimentează</strong>
                                <div class="small" style="color: #adb5bd;">
                                    Poți genera explicații la multiple niveluri pentru același concept
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>