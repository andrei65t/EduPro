@page
@model IndexModel
@{
    ViewData["Title"] = "EduPro";
    ViewData["PageTitle"] = "EduPro Dashboard";
    ViewData["PageSubtitle"] = "Alege ce vrei să faci cu notițele tale";
}
<div class="row">
    <div class="col-12">
    <h1 class="welcome-title">Bine ai venit, Andrei 👋</h1>

        <!-- Scan bar (glow, no fill) -->
        <div class="mb-4">
            <a asp-page="/NotesUpload" class="scan-bar" role="button" aria-label="Scanează notițele tale">Scanează notițele tale</a>
        </div>

        <!-- Materii -->
        <div class="mt-3">
            <div class="fs-4 fw-bold">Toate cursurile</div>
            <div class="course-grid">
                @if (Model.Categories != null && Model.Categories.Count > 0)
                {
                    @foreach (var c in Model.Categories)
                    {
                        var slug = (c.Name ?? "").ToLowerInvariant().Replace(" ", "-");
                        var initial = string.IsNullOrWhiteSpace(c.Name) ? "?" : c.Name.Trim().Substring(0,1).ToUpper();
                        var bg = string.IsNullOrWhiteSpace(c.Color) ? string.Empty : $"background:{c.Color};";
                        <a href="@(Url.Page("/Courses/Details", new { slug = slug }))" class="course-card">
                            <div class="course-avatar" style="@bg" aria-hidden="true">@initial</div>
                            <div class="course-title">@c.Name</div>
                        </a>
                    }
                }
                else
                {
                    <div class="text-muted">Nu există categorii. Creează una la încărcare sau din secțiunea de administrare.</div>
                }
            </div>
        </div>
    </div>
</div>
